import datetime
from aiogram import Bot , Dispatcher
from dotenv import load_dotenv
import os
load_dotenv()
BOT_TOKEN = os.getenv('BOT_TOKEN')
OPEN_AI = os.getenv('OPEN_AI')
TG_ADMIN = os.getenv('TG_ADMIN')
bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()


tips = {
  "tips": [
    "Сохраняй все чеки и квитанции — это доказательства расходов.",
    "Фотографируй документы и места события сразу, когда можешь.",
    "Не подписывай ничего сразу — попроси время на изучение.",
    "Записывай имена и должности людей, с которыми общаешься.",
    "Фиксируй даты и время каждого инцидента.",
    "Сохраняй переписку: скриншоты, фото, сообщения.",
    "Не удаляй исходные файлы — архивируй копии.",
    "Если требуют взятку, постарайся запомнить свидетелей.",
    "Попроси письменное подтверждение любых требований.",
    "Не передавай наличные без свидетелей и чека.",
    "Используй официальные каналы для подачи жалобы.",
    "Проконсультируйся с юристом перед крупными действиями.",
    "Делай заметки голосовыми записями, если нельзя писать.",
    "Не выкладывай личные данные в открытый доступ.",
    "Сравни имена и подписи в документах с официальными базами.",
    "Проверяй реквизиты организаций через официальный реестр.",
    "Сохраняй номер телефона и карту звонящего.",
    "Если чувствуешь угрозу — обратись в полицию.",
    "Не соглашайся на устные договорённости без бумаги.",
    "Попроси объяснения в письменной форме на служебном бланке.",
    "Следи за датами регистрации и лицензиями организаций.",
    "Проверяй контракты на наличие невыгодных пунктов.",
    "Не передавай документы третьим лицам без доверенности.",
    "Используй двухфакторную аутентификацию для учеток.",
    "Не переходи по подозрительным ссылкам в письмах.",
    "Храни резервные копии доказательств на облаке и локально.",
    "Проверь отзывы и историю компании перед сотрудничеством.",
    "Уточни у нескольких источников противоречивую информацию.",
    "Если тебя шантажируют, не поддавайся — фиксируй угрозы.",
    "Сохраняй квитанции о поданных заявлениях и жалобах.",
    "Запрашивай входящие и исходящие официальные сообщения.",
    "Не доверяй людям, требующим конфиденциальности без причины.",
    "Попроси свидетеля присутствовать при передаче документов.",
    "Если оказывают давление, фиксируй разговор на диктофон (с учетом закона).",
    "Сохраняй электронную переписку целиком, не только текст.",
    "Проверь подлинность печатей и печатных знаков.",
    "Сверь фактические данные с тем, что в договоре.",
    "Не подписывай пустые строки в документах.",
    "Если предлагают «решить вопрос» быстро — это красный флаг.",
    "Изучи права потребителя для своей ситуации.",
    "Узнай уполномоченный контакт в организации для жалоб.",
    "Не передавай пароли и доступы посторонним.",
    "Сохраняй исходные фото в оригинальном разрешении.",
    "Сверяй электронные подписи с закрытым ключом организации.",
    "Проверяй логи и записи доступа в цифровых сервисах.",
    "Если нужна помощь — обратись к наблюдательной группе или НКО.",
    "Делай скриншоты ошибок и сообщений об оплате.",
    "Используй защищённые мессенджеры для чувствительной переписки.",
    "Проверяй, кто имеет доступ к твоим файлам и документам.",
    "Собирай контакты свидетелей сразу после события.",
    "Не пытайся устраивать самосуд — действия должны быть законными.",
    "Запрашивай копии всех документов, которые подписываешь.",
    "Следи за сроками рассмотрения твоих жалоб и заявлений.",
    "Если получаешь обещания по телефону — попроси их письменно.",
    "Уточняй кодекс или регламент, на который ссылаются.",
    "Если предлагают «вознаграждение» незнакомо — избегай слова «бонус».",
    "Не оставляй оригиналы без описи приема-передачи.",
    "Проверяй, кто подписывает документы от имени организации.",
    "Регулярно делай скриншоты публичных страниц и постов.",
    "Если нужно — обратись к общественному контролю или прессe.",
    "Используй официальные формы жалоб, если они есть.",
    "Попроси официальный ответ с отметкой о регистрации жалобы.",
    "Если запрашивают взятку электронно — сохрани переписку и скриншоты.",
    "Проверяй факты через несколько независимых источников.",
    "Не принимай решения под давлением сроков без проверки.",
    "Документируй попытки давления и угрозы с указанием времени.",
    "Сохраняй банковские транзакции, если они имеют отношение к делу.",
    "Если тебе предлагают «решить» через посредников — это подозрительно.",
    "Изучи процедуру обжалования решений организации.",
    "Если работаешь в госоргане — знай кодекс служебной этики.",
    "Проси подтверждение получения письменных обращений.",
    "Делай копии всех отправляемых документов и писем.",
    "Не публикуй непроверённые обвинения в открытом доступе.",
    "Для анонимных жалоб не указывай личные контактные данные.",
    "Используй VPN при отправке чувствительной информации из публичной сети.",
    "Не передавай фото документов через непроверенные сайты.",
    "Сравни подписи с образцами в базе, если есть доступ.",
    "Если платёж запрашивают без официальных реквизитов — откажись.",
    "Проверь, не является ли место регистрации фиктивным.",
    "Не соглашайся на устные «договора» с обязательствами на будущее.",
    "Обращай внимание на несоответствия в датах и печатях.",
    "Если хотят вернуть деньги — проси расписку с подписью и данными.",
    "Записывай номера дел и входящие номера при подаче заявлений.",
    "Проверяй, кто подписывает электронные уведомления (email headers).",
    "Изучи, какие органы компетентны рассматривать конкретный тип жалобы.",
    "Если компания просит «взятку» за услугу — сделай официальную жалобу.",
    "Не уничтожай доказательства даже под давлением.",
    "Попроси регистрировать входящую документацию с отметкой даты.",
    "Сохраняй переписку с официальными аккаунтами организаций.",
    "Если предоставляешь данные третьим лицам — требуй договор о конфиденциальности.",
    "Проверяй историю регистраций компании в открытых реестрах.",
    "Если есть видеозапись события — сделай резервную копию.",
    "Следи за тем, кто имеет право менять документы в системе.",
    "Не отправляй фото удостоверения без острой необходимости.",
    "Для анонимности используй общие контакты НКО или правозащитников.",
    "Если нужна помощь — обратись в горячую линию по защите прав.",
    "Проверяй, соответствует ли поведение сотрудников должностным инструкциям.",
    "Документируй расходы, связанные с восстановлением прав.",
    "Если дело крупное — привлекай адвоката для подготовки жалобы.",
    "Храни лог действий в системе (кто, когда, какие изменения сделал).",
    "Попроси письменный отказ, если тебе отказывают в услуге или праве.",
    "Не соглашайся на устные обещания о «решении» в обмен на деньги.",
    "Проверяй, есть ли у организации разрешения и лицензии.",
    "Если тебя подвели сроки, сохраняй доказательства задержки.",
    "Используй шаблоны жалоб для ускорения подачи документов.",
    "Указывай только факты и подтверждения, избегай эмоций в документе.",
    "Проси копии материалов, которые использовали против тебя.",
    "Если видишь системную проблему — сообщай в надзорные органы.",
    "Сохраняй контакты юристов и НКО, которые помогают бесплатно.",
    "При угрозах или шантаже обратись сразу в правоохранительные органы.",
    "Не доверяй предложениям «закрыть глаза» за деньги.",
    "При подозрительных выплатах проверь назначение платежа и получателя.",
    "Фиксируй детали переговоров: место, свидетели, тема разговора.",
    "Делай снимки устройств или экранов, если это доказательство.",
    "Проверяй, кто отвечает на официальные запросы и как быстро.",
    "Попроси письменные инструкции, если процесс требует действий от тебя.",
    "Не передавай оригиналы без оформленной описи и подписи.",
    "Если в ответ на жалобу требуют деньги — это повод для отдельной жалобы.",
    "Используй шаблоны чек-листов для сбора доказательств."
  ]
}

HELP_TEXT = """
📘 <b>Руководство для операторов и администраторов</b>

Добро пожаловать в административную панель антикоррупционного бота.
Этот раздел предназначен для тех, кто помогает обрабатывать жалобы и управлять системой.

──────────────────────
👨‍💼 <b>Для операторов</b>

Операторы — это проверенные пользователи, которые следят за поступающими жалобами и реагируют на критические случаи.

🧭 Основные функции:
• Получение уведомлений о новых жалобах  «CRITICAL».
• Анализ описания, фото и геолокации.
• Проверка достоверности жалобы.
• Связь с заявителем при необходимости.
• Передача информации соответствующим органам.

💡 Рекомендации:
- Проверяйте сообщения оперативно.
- Соблюдайте конфиденциальность данных заявителей.
- Отмечайте решённые жалобы в системе. 
- Не используйте бот в личных целях.

⚙️ Основные команды:
• `/add_tip` — добавить новый совет пользователям.

──────────────────────
🛡️ <b>Для администраторов</b>

Администраторы управляют системой и имеют расширенные права доступа.

⚙️ Основные команды:
• `/add_oper` —  добавить нового оператора по Telegram ID.
• Управление списком операторов и жалоб.
• Модерация и обновление базы советов.

🔒 Ответственность:
- Администраторы обязаны сохранять нейтралитет и следить за корректностью данных.
- Все действия фиксируются в логах.
- Доступ к административным командам строго ограничен.

──────────────────────
🤝 <b>Общие принципы работы</b>

✅ Работайте только в интересах граждан.  
💬 Отвечайте пользователям вежливо и корректно.  
🕒 Своевременно обрабатывайте поступающие обращения.  
📍 В случае сомнений — консультируйтесь с главным администратором проекта.  

──────────────────────
💙 <b>Цель проекта</b>

Создать прозрачную, честную и эффективную систему реагирования на коррупционные проявления.  
Каждое ваше действие — вклад в справедливое будущее.
"""